<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let stores = [
            { id: 1, name: "Milk", count: 100 },
            { id: 2, name: "Yakult", count: 100 },
            { id: 3, name: "Butter", count: 100, }
        ];
        let carts = [];
        let checkCart = false;
        let text
        function printStoresandCarts() {
            console.log(stores, "Stores");
            console.log(carts, "Carts");
        }

        do {
            text = prompt("Nhập C/R/U/D");
            if (text == "C") {
                let product = prompt("Nhập Milk/Yakult/Butter");
                for (let i = 0; i < stores.length; i++) {
                    if (product == stores[i].name) {
                        for (let j = 0; j < carts.length; j++) {
                            if (carts[j].name == product) {
                                carts[j].count++;
                                checkCart = true;
                                break;
                            }
                        }

                        if (!checkCart) {
                            let newobj = {
                                id: 1,
                                name: stores[i].name,
                                count: 1
                            }
                            carts.push(newobj);
                        }
                        checkCart = false

                        stores[i].count--;





                    }
                }
            }
            if (text == "R") {
                printStoresandCarts("Print Store and Cart");
            }
            if (text == "U") {
                let viTri = +prompt("Nhập vị trí món hàng");
                // carts[viTri].count
                if (viTri <= carts.length) {
                    let soLuongMoi = prompt("Nhập số lượng mới");

                }
                if (soLuongMoi) {
                    carts[viTri].count = soLuongMoi;
                    for (let i = 0; i < stores.length; i++) {
                        if (stores[i].id === carts[viTri].id) {
                            stores[i].count = soLuongMoi;
                            break;
                        }
                    }
                    }
                }
                } while (text != "E")
    //     if (text == "R") {
    //         for (let i = 0; i < stores.length;)
    // }
    </script>
</body>

</html>